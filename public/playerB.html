<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>æŠ“é­šéŠæˆ² - ä¹™æ–¹</title>
<link rel="stylesheet" href="style.css">
<script src="/socket.io/socket.io.js"></script>
<script src="main.js"></script>
</head>
<body class="day">

<h1>æŠ“é­šéŠæˆ² ğŸŸ (ä¹™æ–¹)</h1>

<div class="login-box">
  <input type="text" id="username" placeholder="å¸³è™Ÿ">
  <input type="password" id="password" placeholder="å¯†ç¢¼">
  <input type="text" id="roomB" placeholder="æˆ¿é–“è™Ÿ">
  <button onclick="loginB()">ç™»å…¥ & åŠ å…¥æˆ¿é–“</button>
</div>

<div id="status">å°šæœªé–‹å§‹éŠæˆ²</div>
<div id="pond"></div>

<div class="controls">
  <input type="number" id="bFish" placeholder="ä¹™æŠ“å¹¾éš»">
  <button onclick="submitFish()">é€å‡ºæŠ“é­šæ•¸</button>
</div>

<script>
function loginB() {
  const username = document.getElementById('username').value;
  const password = document.getElementById('password').value;
  const room = document.getElementById('roomB').value;
  if (!username || !password || !room) return alert("è«‹è¼¸å…¥å¸³è™Ÿå¯†ç¢¼èˆ‡æˆ¿é–“è™Ÿ");

  fetch('/login', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({username,password})
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      document.querySelector('.login-box').style.display='none';
      const role='B';
      const playerId=room;
      initGame(role, playerId);
    } else alert('å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤');
  });
}
</script>

</body>
</html>
